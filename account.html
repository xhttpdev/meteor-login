<template name="invictus_account_settings">
    {{#if isError}}
    <div class="alert alert-danger alert-dismissible" role="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
        {{ getErrorMessage }}
    </div>
    {{/if}}
    <form class="form-horizontal">
        <div class="panel panel-info account-panel">
            <div class="panel-heading">{{getText 'accountSettingsText'}}</div>
            <div class="panel-body">

                {{> invictus_form_group label='userName' name='username' value=currentUser.username }}

                <div class="panel panel-default">
                    <div class="panel-heading">{{getText 'changePasswordText'}}</div>
                    <div class="panel-body">
                        {{> invictus_form_group label='oldPassword' name='oldPassword' type='password'}}
                        {{> invictus_form_group label='newPassword' name='newPassword' type='password'}}
                        {{> invictus_form_group label='passwordConfirm' name='newPasswordConfirm' type='password'}}
                    </div>
                </div>
            </div>
            <div class="panel-footer text-right">
                <input type="submit" class="btn btn-primary" value="{{getText 'saveText'}}">
            </div>
        </div>
    </form>
</template>

<template name="invictus_form_group">
    <div class="form-group">
        <label class="col-sm-4 control-label">{{getText label}}</label>

        <div class="col-sm-8">
            <input type="{{#if type}}{{type}}{{else}}'text'{{/if}}" class="form-control" name="{{name}}" value="{{#if value}}{{value}}{{/if}}">
        </div>
    </div>
</template>
